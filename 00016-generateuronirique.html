<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåô G√©n√©rateur Onirique Ultime</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(-45deg, #0f0f23, #1a0033, #0a0a1a, #001122);
            background-size: 400% 400%;
            animation: nebulaShift 20s ease infinite;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        @keyframes nebulaShift { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { 
            font-size: 2.5em; 
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f9ca24); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text;
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(30deg); }
        }
        
        .main-content { 
            backdrop-filter: blur(20px); 
            background: rgba(255,255,255,0.05); 
            border-radius: 20px; 
            padding: 30px; 
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
            margin-bottom: 30px;
        }
        
        .control-group { margin-bottom: 30px; }
        
        .section-header {
            background: linear-gradient(135deg, rgba(78,205,196,0.2), rgba(69,183,209,0.2));
            border-left: 4px solid #4ecdc4;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-header:hover {
            background: linear-gradient(135deg, rgba(78,205,196,0.3), rgba(69,183,209,0.3));
            transform: translateX(5px);
        }
        
        .section-header h3 { 
            color: #ffd700; 
            text-shadow: 0 0 20px rgba(255,215,0,0.5); 
            font-size: 1.4em;
            font-weight: 700;
            margin: 0;
        }
        
        .section-header .toggle-icon {
            font-size: 1.5em;
            transition: transform 0.3s;
        }
        
        .section-header.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        
        .section-content {
            max-height: 2000px;
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.3s;
            opacity: 1;
        }
        
        .section-content.collapsed {
            max-height: 0;
            opacity: 0;
        }
        
        label { 
            display: block; 
            margin-bottom: 10px; 
            font-weight: 600; 
            color: #e0e0e0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        input, select, textarea { 
            width: 100%; 
            padding: 12px; 
            background: rgba(255,255,255,0.1); 
            border: 2px solid rgba(255,255,255,0.3); 
            border-radius: 12px; 
            color: white; 
            font-size: 16px; 
            backdrop-filter: blur(10px); 
            transition: all 0.3s; 
        }
        input::placeholder, textarea::placeholder { color: rgba(255,255,255,0.6); }
        input:focus, select:focus, textarea:focus { 
            outline: none; 
            border-color: #4ecdc4; 
            box-shadow: 0 0 20px rgba(78,205,196,0.4);
            background: rgba(255,255,255,0.15);
        }
        select option { background: #1a0033; color: white; }
        
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
            gap: 12px;
            margin-top: 15px;
        }
        
        .grid-btn {
            padding: 15px 10px; 
            background: rgba(255,255,255,0.1); 
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px; 
            cursor: pointer; 
            transition: all 0.3s; 
            text-align: center; 
            font-size: 0.9em;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .grid-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(78,205,196,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }
        
        .grid-btn:hover::before {
            width: 200%;
            height: 200%;
        }
        
        .grid-btn.active {
            background: linear-gradient(135deg, #4ecdc4, #45b7d1); 
            border-color: #fff; 
            box-shadow: 0 0 25px rgba(78,205,196,0.6); 
            transform: scale(1.08);
        }
        
        .grid-btn:hover {
            border-color: #4ecdc4; 
            box-shadow: 0 0 15px rgba(78,205,196,0.4);
            transform: translateY(-3px);
        }
        
        .emoji-large { font-size: 2em; display: block; margin-bottom: 5px; position: relative; z-index: 1; }
        
        .selection-info {
            background: rgba(255,255,255,0.15); 
            border: 2px solid rgba(255,255,255,0.4); 
            padding: 15px; 
            border-radius: 15px; 
            margin-top: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .selection-info p { 
            color: #ff69b4; 
            font-size: 1em; 
            margin: 5px 0;
            font-weight: 600;
        }
        
        .prompt-display {
            background: rgba(0,0,0,0.5);
            border: 2px solid rgba(78,205,196,0.5);
            border-radius: 15px;
            padding: 30px;
            margin: 30px auto;
            max-width: 1200px;
            min-height: 400px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.7);
        }
        
        .prompt-display h3 {
            color: #4ecdc4;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-shadow: 0 0 10px rgba(78,205,196,0.5);
        }
        
        .prompt-text {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            line-height: 1.8;
            color: #e0e0e0;
            white-space: pre-wrap;
            word-wrap: break-word;
            min-height: 300px;
        }
        
        .controls { 
            display: flex; 
            gap: 15px; 
            justify-content: center; 
            flex-wrap: wrap; 
            margin: 30px 0; 
        }
        
        .btn { 
            padding: 15px 30px; 
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e); 
            border: none; 
            border-radius: 30px; 
            color: white; 
            font-weight: 700; 
            cursor: pointer; 
            transition: all 0.3s; 
            text-transform: uppercase; 
            letter-spacing: 1.5px;
            font-size: 16px;
            box-shadow: 0 5px 20px rgba(255,107,107,0.3);
        }
        
        .btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 15px 40px rgba(255,107,107,0.5);
            background: linear-gradient(45deg, #ff5252, #ff6b6b);
        }
        
        .btn:active { transform: translateY(-1px); }
        
        .status { 
            text-align: center; 
            margin: 20px 0; 
            padding: 20px; 
            background: rgba(0,255,127,0.2); 
            border-radius: 15px; 
            border-left: 5px solid #00ff80;
            font-weight: 600;
            font-size: 1.1em;
            box-shadow: 0 5px 20px rgba(0,255,127,0.2);
        }
        
        .particles { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            pointer-events: none; 
            z-index: -1; 
        }
        
        @media (max-width: 768px) { 
            .grid { 
                grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); 
            }
            .header h1 { font-size: 1.8em; }
            .btn { padding: 12px 20px; font-size: 14px; }
        }
        .top-right {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    gap: 10px;
    z-index: 1000;
}

body {
    padding-top: 80px;
}

.btn-retour {
    display: inline-block;
    padding: 12px 20px;
    background: #007BFF;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
}

    </style>
</head>
<body>
    <div class="top-right">
    <a href="index.html" class="btn-retour">üè† Accueil</a>
    <a href="repertoire/index.html" class="btn-retour">üìö R√©pertoire</a>
</div>

    <canvas class="particles" id="particles"></canvas>
    
    <div class="container">
        <div class="header">
            <h1>üåô G√©n√©rateur Onirique Ultime</h1>
            <p style="font-size: 1.1em; opacity: 0.9;">Configuration Compl√®te du Personnage</p>
        </div>
        
        <div class="main-content">
            
            <!-- 1. TYPE DE PERSONNAGE -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>üë§ Type de Personnage</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="characterTypeGrid"></div>
                    <div class="selection-info" id="characterTypeInfo" style="display: none;">
                        <p>S√©lectionn√© : <strong id="characterTypeDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 2. V√äTEMENTS -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>üëó V√™tements & Tenue</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="clothingGrid"></div>
                    <div class="selection-info" id="clothingInfo" style="display: none;">
                        <p>Tenue : <strong id="clothingDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 3. TRAITS FANTASTIQUES -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>ü¶Ñ Traits Fantastiques</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <p style="text-align: center; opacity: 0.8; margin-bottom: 15px;">S√©lectionnez jusqu'√† 6 traits</p>
                    <div class="grid" id="traitsGrid"></div>
                    <div class="selection-info" id="traitsInfo" style="display: none;">
                        <p>Traits actifs : <strong id="traitsDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 4. MONTURE -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>üöÄ Monture & V√©hicule</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="mountGrid"></div>
                    <div class="selection-info" id="mountInfo" style="display: none;">
                        <p>Monture : <strong id="mountDesc">--</strong></p>
                    </div>
                    <label style="margin-top: 20px;">Style de d√©placement</label>
                    <select id="travelStyle">
                        <option value="">Naturel et gracieux</option>
                        <option value="flying through glowing aurora borealis, rainbow lights">‚ú® Traversant aurores bor√©ales</option>
                        <option value="diving underwater through vibrant coral reef, tropical fish">üåä Plong√©e dans r√©cif corallien</option>
                        <option value="racing through neon city streets at night, speed blur">üèôÔ∏è Course dans ville n√©on</option>
                        <option value="soaring high above clouds at sunset, golden hour lighting">‚òÅÔ∏è Planant au-dessus des nuages</option>
                        <option value="traveling through deep space, stars and galaxies">üöÄ Voyageant dans l'espace</option>
                        <option value="surfing on lightning bolts, electrical energy trails">‚ö° Surfant sur √©clairs</option>
                    </select>
                </div>
            </div>
            
            <!-- 5. ENVIRONNEMENT -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>üåç Environnement & D√©cor</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="environmentGrid"></div>
                    <div class="selection-info" id="environmentInfo" style="display: none;">
                        <p>Environnement : <strong id="environmentDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 6. STYLE ARTISTIQUE -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>üé® Style Artistique</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="styleGrid"></div>
                    <div class="selection-info" id="styleInfo" style="display: none;">
                        <p>Style : <strong id="styleDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 7. ESTH√âTIQUE -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>‚ú® Esth√©tique Visuelle</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="grid" id="aestheticGrid"></div>
                    <div class="selection-info" id="aestheticInfo" style="display: none;">
                        <p>Esth√©tique : <strong id="aestheticDesc">--</strong></p>
                    </div>
                </div>
            </div>
            
            <!-- 8. PERSONNALISATION LIBRE -->
            <div class="control-group">
                <div class="section-header" onclick="toggleSection(this)">
                    <h3>‚úçÔ∏è Personnalisation Libre</h3>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <label>D√©tails suppl√©mentaires</label>
                    <textarea id="customDetails" rows="3" 
                              placeholder="Ajoutez des d√©tails sp√©cifiques : couleur des cheveux, accessoires, pose, √©motions, expression..."></textarea>
                    
                    <label style="margin-top: 20px;">üí´ Niveau de d√©tails</label>
                    <input type="range" id="detailLevel" min="1" max="10" value="7" 
                           style="accent-color: #4ecdc4;">
                    <div style="display: flex; justify-content: space-between; font-size: 0.9em; opacity: 0.8;">
                        <span>Minimaliste</span>
                        <span id="detailValue">7</span>
                        <span>Ultra-d√©taill√©</span>
                    </div>
                </div>
            </div>
            
        </div>
        
        <div class="prompt-display">
            <h3>‚ú® Prompt G√©n√©r√©</h3>
            <div class="prompt-text" id="promptOutput">Configurez votre personnage en s√©lectionnant les options ci-dessus, puis cliquez sur "G√©n√©rer Prompt"...</div>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="generatePrompt()">‚ú® G√©n√©rer Prompt</button>
            <button class="btn" onclick="randomize()" style="background: linear-gradient(45deg, #4ecdc4, #45b7d1);">üé≤ Al√©atoire Complet</button>
            <button class="btn" onclick="copyPrompt()" style="background: linear-gradient(45deg, #f9ca24, #f0932b);">üìã Copier Prompt</button>
            <button class="btn" onclick="clearAll()" style="background: linear-gradient(45deg, #6c5ce7, #a29bfe);">üóëÔ∏è R√©initialiser</button>
        </div>
        
        <div id="status" class="status" style="display:none;"></div>
    </div>

    <script>
        // üë§ TYPES DE PERSONNAGES (Femme, Homme, Cr√©atures pr√©d√©finies)
        const characterTypes = [
            {name: "Femme", prompt: "beautiful woman, elegant feminine features", emoji: "üë©", category: "base"},
            {name: "Homme", prompt: "handsome man, strong masculine features", emoji: "üë®", category: "base"},
            
            // Cr√©atures pr√©d√©finies
            {name: "Dragon N√©buleux", prompt: "cosmic dragon entity with nebula scales, ethereal dragon form", emoji: "üêâ", category: "creature"},
            {name: "F√©e Glace", prompt: "ice fairy with crystalline wings, frost-covered fairy", emoji: "‚ùÑÔ∏è", category: "creature"},
            {name: "Sir√®ne Abyssale", prompt: "bioluminescent deep sea mermaid, glowing aquatic being", emoji: "üßú‚Äç‚ôÄÔ∏è", category: "creature"},
            {name: "Ph√©nix Stellaire", prompt: "stellar phoenix of cosmic fire, celestial bird entity", emoji: "üî•", category: "creature"},
            {name: "Elfe Nocturne", prompt: "night elf archer, mystical forest guardian", emoji: "üèπ", category: "creature"},
            {name: "Cyborg N√©on", prompt: "cybernetic being with neon circuits, tech-enhanced humanoid", emoji: "ü§ñ", category: "creature"},
            {name: "D√©esse C√©leste", prompt: "celestial goddess with divine aura, heavenly deity", emoji: "üë∏", category: "creature"},
            {name: "Vampire Gothique", prompt: "gothic vampire lord, elegant undead nobility", emoji: "üßõ", category: "creature"},
            {name: "Ange D√©chu", prompt: "fallen angel with dark wings, corrupted celestial", emoji: "üòá", category: "creature"},
            {name: "Sorci√®re Cosmique", prompt: "cosmic witch wielding galaxy magic, arcane spellcaster", emoji: "üßô‚Äç‚ôÄÔ∏è", category: "creature"},
            {name: "Guerrier Foudre", prompt: "lightning warrior crackling with electricity, storm champion", emoji: "‚öîÔ∏è", category: "creature"},
            {name: "Ninja Spectral", prompt: "ethereal shadow ninja, ghostly assassin", emoji: "ü•∑", category: "creature"}
        ];
        
        // üëó V√äTEMENTS (Femmes + Hommes + Cr√©atures + Adultes)
        const clothing = {
            woman: [
                {name: "Robe √âl√©gante", prompt: "elegant flowing dress, graceful gown", emoji: "üëó"},
                {name: "Armure Guerri√®re", prompt: "ornate warrior armor, battle-ready outfit", emoji: "‚öîÔ∏è"},
                {name: "Robe Mage", prompt: "mystical mage robes, flowing magical attire", emoji: "üîÆ"},
                {name: "Tenue Elfe", prompt: "elven forest dress, nature-inspired clothing", emoji: "üçÉ"},
                {name: "Cyber Suit", prompt: "cyberpunk bodysuit, tech outfit with neon", emoji: "üíª"},
                {name: "Robe Princesse", prompt: "royal princess gown, luxurious dress", emoji: "üëë"},
                {name: "Tenue Ninja", prompt: "sleek ninja outfit, stealth clothing", emoji: "ü•∑"},
                {name: "Costume Pirate", prompt: "pirate captain outfit, maritime adventure clothes", emoji: "üè¥‚Äç‚ò†Ô∏è"},
                {name: "Robe Ange", prompt: "angelic white robes, heavenly dress", emoji: "üòá"},
                {name: "Tenue Sorci√®re", prompt: "witch outfit with hat, mystical attire", emoji: "üßô‚Äç‚ôÄÔ∏è"},
                {name: "Steampunk Corset", prompt: "steampunk corset with gears, Victorian industrial", emoji: "‚öôÔ∏è"},
                {name: "Kimono Traditionnel", prompt: "traditional ornate kimono, Japanese elegance", emoji: "üéå"},
                
                // Adultes sophistiqu√©s
                {name: "Robe Soir√©e Fendue", prompt: "elegant evening gown with high slit, sophisticated glamour", emoji: "‚ú®"},
                {name: "Body Dentelle Noir", prompt: "black lace bodysuit, elegant intimate wear", emoji: "üñ§"},
                {name: "Robe Transparente Brod√©e", prompt: "sheer embroidered dress, see-through elegant fashion", emoji: "üëó"},
                {name: "Lingerie Fine", prompt: "delicate lingerie set, refined intimate apparel", emoji: "üíï"},
                {name: "Bikini Designer", prompt: "designer bikini, luxury swimwear", emoji: "üëô"},
                {name: "Combinaison Moulante", prompt: "form-fitting jumpsuit, sleek bodycon outfit", emoji: "üî•"},
                {name: "Corset Cuir", prompt: "leather corset with details, edgy elegant piece", emoji: "üéÄ"},
                {name: "Kimono Ouvert Soie", prompt: "open silk kimono, flowing revealing robe", emoji: "üå∏"}
            ],
            man: [
                {name: "Costume √âl√©gant", prompt: "elegant formal suit, refined gentleman attire", emoji: "ü§µ"},
                {name: "Armure Chevalier", prompt: "knight's heavy armor, medieval warrior gear", emoji: "üõ°Ô∏è"},
                {name: "Robe Samoura√Ø", prompt: "samurai armor, traditional warrior outfit", emoji: "‚öîÔ∏è"},
                {name: "Cyber Combinaison", prompt: "cyberpunk tech suit, futuristic outfit", emoji: "üíª"},
                {name: "Tenue Mage", prompt: "archmage robes, mystical wizard attire", emoji: "üßô"},
                {name: "Costume Pirate", prompt: "pirate captain coat, adventure outfit", emoji: "üè¥‚Äç‚ò†Ô∏è"},
                {name: "Fourrure Viking", prompt: "viking furs and armor, norse warrior clothes", emoji: "‚ö°"},
                {name: "Tenue Assassin", prompt: "hooded assassin outfit, stealth gear", emoji: "üó°Ô∏è"},
                {name: "V√™tements Roi", prompt: "royal king attire, regal clothing", emoji: "üëë"},
                {name: "Steampunk Gentleman", prompt: "steampunk Victorian suit, industrial elegance", emoji: "üé©"},
                {name: "Peinture Tribale", prompt: "tribal war paint and minimal clothing, primal warrior", emoji: "ü™∂"},
                {name: "Armure Paladin", prompt: "holy paladin armor, divine warrior gear", emoji: "‚ú®"},
                
                // Adultes sophistiqu√©s
                {name: "Torse Nu Sculpt√©", prompt: "shirtless athletic physique, sculpted torso", emoji: "üí™"},
                {name: "Pantalon Cuir Ajust√©", prompt: "tight leather pants, edgy masculine fashion", emoji: "üß•"},
                {name: "Short Sport Moulant", prompt: "tight athletic shorts, sporty revealing outfit", emoji: "üèãÔ∏è"},
                {name: "Kimono Ouvert", prompt: "open kimono showing chest, artistic masculine style", emoji: "üéå"},
                {name: "Jean Taille Basse", prompt: "low-rise jeans, casual confident style", emoji: "üëñ"},
                {name: "Boxer √âl√©gant", prompt: "designer underwear, fashionable intimate wear", emoji: "ü©≤"},
                {name: "Tenue Gladiateur", prompt: "minimal gladiator outfit, leather straps and belts", emoji: "üèõÔ∏è"},
                {name: "Look Streetwear", prompt: "stylish streetwear showing physique, urban fashion", emoji: "üé®"}
            ],
            creature: [
                {name: "Forme Naturelle", prompt: "natural creature form, organic appearance", emoji: "üåø"},
                {name: "√âcailles Dragon", prompt: "dragon scale covering, reptilian natural armor", emoji: "üêâ"},
                {name: "Plumage Oiseau", prompt: "bird feather covering, avian plumage", emoji: "ü™∂"},
                {name: "Cristaux Vivants", prompt: "living crystal formations, gem-like body", emoji: "üíé"},
                {name: "Vapeur √âth√©r√©e", prompt: "ethereal smoke form, gaseous being", emoji: "üí®"},
                {name: "V√©g√©tation", prompt: "plant-covered body, living flora", emoji: "üå±"},
                {name: "Aquatique", prompt: "aquatic features, water-dwelling form", emoji: "üåä"},
                {name: "√ânergie Pure", prompt: "pure energy manifestation, incorporeal form", emoji: "‚ö°"},
                {name: "M√©tal Robot", prompt: "metallic robotic body, mechanical form", emoji: "ü§ñ"},
                {name: "Spectre Fant√¥me", prompt: "ghostly translucent form, spirit body", emoji: "üëª"}
            ]
        };
        
        // ü¶Ñ TRAITS FANTASTIQUES
        const traits = [
            {name: "Ailes Ange", prompt: "large white angelic wings", emoji: "ü™Ω"},
            {name: "Cornes Dragon", prompt: "curved dragon horns", emoji: "üêâ"},
            {name: "Queue F√©line", prompt: "long swishing cat tail", emoji: "üê±"},
            {name: "Oreilles Elfe", prompt: "pointed elf ears", emoji: "üëÇ"},
            {name: "Yeux Lumineux", prompt: "glowing radiant eyes", emoji: "üëÅÔ∏è"},
            {name: "Cheveux Flamme", prompt: "hair made of living fire", emoji: "üî•"},
            {name: "Peau √âcailles", prompt: "iridescent scale-covered skin", emoji: "üêç"},
            {name: "Halo Divin", prompt: "golden glowing halo", emoji: "üòá"},
            {name: "Tentacules", prompt: "elegant flowing tentacles", emoji: "üêô"},
            {name: "Aura Magique", prompt: "visible magical aura", emoji: "‚ú®"},
            {name: "Troisi√®me ≈íil", prompt: "mystical third eye on forehead", emoji: "üîÆ"},
            {name: "Griffes", prompt: "sharp extended claws", emoji: "ü¶Ö"},
            {name: "Tatouages Magiques", prompt: "glowing mystical tattoos", emoji: "üé®"},
            {name: "Ailes Papillon", prompt: "colorful butterfly wings", emoji: "ü¶ã"},
            {name: "Crocs Vampire", prompt: "sharp vampire fangs", emoji: "üßõ"},
            {name: "Bois de Cerf", prompt: "majestic antlers", emoji: "ü¶å"},
            {name: "√âlectricit√©", prompt: "crackling electrical energy", emoji: "‚ö°"},
            {name: "Branchies", prompt: "visible aquatic gills", emoji: "üê†"},
            {name: "Fourrure", prompt: "soft magical fur", emoji: "üê∫"},
            {name: "Ailes Libellule", prompt: "transparent dragonfly wings", emoji: "ü™∞"},
            {name: "Corne Licorne", prompt: "spiral unicorn horn", emoji: "ü¶Ñ"},
            {name: "Bioluminescence", prompt: "glowing bioluminescent patterns", emoji: "üåü"},
            {name: "Yeux Multiples", prompt: "multiple eyes", emoji: "üï∑Ô∏è"},
            {name: "Serpents Cheveux", prompt: "living snake hair", emoji: "üêç"}
        ];
        
        // üöÄ MONTURES
        const mounts = [
            {name: "Dragon", prompt: "riding majestic dragon", emoji: "üêâ"},
            {name: "P√©gase", prompt: "riding white pegasus", emoji: "ü¶Ñ"},
            {name: "Moto Cyber", prompt: "riding neon motorcycle", emoji: "üèçÔ∏è"},
            {name: "Baleine Volante", prompt: "riding giant flying whale", emoji: "üêã"},
            {name: "Vaisseau Spatial", prompt: "piloting sleek spaceship", emoji: "üöÄ"},
            {name: "Ph√©nix", prompt: "riding phoenix of fire", emoji: "üî•"},
            {name: "Loup Astral", prompt: "riding cosmic wolf", emoji: "üê∫"},
            {name: "Raie Manta", prompt: "riding giant manta ray", emoji: "ü¶à"},
            {name: "Nuage Magique", prompt: "floating on magical cloud", emoji: "‚òÅÔ∏è"},
            {name: "Griffon", prompt: "riding griffin creature", emoji: "ü¶Ö"},
            {name: "Papillon G√©ant", prompt: "riding giant butterfly", emoji: "ü¶ã"},
            {name: "Licorne", prompt: "riding elegant unicorn", emoji: "ü¶Ñ"}
        ];
        
        // üåç ENVIRONNEMENTS
        const environments = [
            {name: "N√©buleuse Cosmique", prompt: "floating in cosmic nebula with stars", emoji: "üåå"},
            {name: "For√™t Enchant√©e", prompt: "enchanted forest with glowing mushrooms", emoji: "üå≤"},
            {name: "Grotte Cristal", prompt: "crystal cave with bioluminescent gems", emoji: "üíé"},
            {name: "Ville Cyberpunk", prompt: "cyberpunk city with neon rain", emoji: "üèôÔ∏è"},
            {name: "Palais Corallien", prompt: "underwater coral palace", emoji: "üåä"},
            {name: "Sommet Aurore", prompt: "mountain peak with aurora borealis", emoji: "‚õ∞Ô∏è"},
            {name: "Oasis D√©sert", prompt: "mystical desert oasis", emoji: "üèúÔ∏è"},
            {name: "√éles Flottantes", prompt: "floating sky islands in clouds", emoji: "‚òÅÔ∏è"},
            {name: "Volcan Actif", prompt: "active volcano with lava", emoji: "üåã"},
            {name: "Temple Ancien", prompt: "ancient mystical temple ruins", emoji: "üèõÔ∏è"},
            {name: "Jardin Zen", prompt: "peaceful zen garden", emoji: "üéã"},
            {name: "Cath√©drale Gothique", prompt: "gothic cathedral interior", emoji: "‚õ™"}
        ];
        
        // üé® STYLES ARTISTIQUES
        const artStyles = [
            {name: "Photor√©aliste", prompt: "photorealistic, 8k, ultra detailed, cinematic lighting", emoji: "üì∏"},
            {name: "Anime", prompt: "anime style, studio ghibli aesthetic, soft colors", emoji: "üéå"},
            {name: "Peinture Huile", prompt: "oil painting, classical art, rich textures", emoji: "üñºÔ∏è"},
            {name: "Cyberpunk", prompt: "cyberpunk aesthetic, neon lights, dystopian", emoji: "üåÉ"},
            {name: "Fantasy Art", prompt: "fantasy concept art, epic scene, dramatic", emoji: "üè∞"},
            {name: "Aquarelle", prompt: "watercolor painting, soft edges, dreamy", emoji: "üé®"},
            {name: "Digital Art", prompt: "digital art, modern illustration, vibrant", emoji: "üíª"},
            {name: "Sketch", prompt: "pencil sketch, detailed shading", emoji: "‚úèÔ∏è"},
            {name: "Art Nouveau", prompt: "art nouveau style, flowing curves, ornate", emoji: "üé≠"},
            {name: "Pop Art", prompt: "pop art style, bold colors, comic book", emoji: "üé™"},
            {name: "Surr√©aliste", prompt: "surrealist art, dreamlike, Salvador Dali style", emoji: "üåÄ"},
            {name: "Minimaliste", prompt: "minimalist design, clean lines, simple", emoji: "‚ö™"}
        ];
        
        // ‚ú® ESTH√âTIQUES
        const aesthetics = [
            {name: "Vaporwave", prompt: "vaporwave aesthetic, pink purple cyan", emoji: "üå∏"},
            {name: "Synthwave", prompt: "synthwave retro sunset, grid lines", emoji: "üåÖ"},
            {name: "Steampunk", prompt: "steampunk brass gears, Victorian", emoji: "‚öôÔ∏è"},
            {name: "Gothic", prompt: "dark gothic, dramatic shadows", emoji: "üè∞"},
            {name: "Bioluminescent", prompt: "bioluminescent glowing", emoji: "üåä"},
            {name: "Cristallin", prompt: "crystalline structures, prisms", emoji: "üíé"},
            {name: "Cosmique", prompt: "cosmic nebula colors, galaxy", emoji: "üåå"},
            {name: "Pastel Kawaii", prompt: "soft pastel colors, cute", emoji: "üç≠"},
            {name: "Film Noir", prompt: "black and white, high contrast", emoji: "üé¨"},
            {name: "Holographique", prompt: "holographic rainbow shimmer", emoji: "üîÆ"},
            {name: "N√©on Acid", prompt: "neon acid colors, electric", emoji: "‚ö°"},
            {name: "Nature √âth√©r√©e", prompt: "ethereal nature, magical", emoji: "üåø"}
        ];
        
        // √âTAT GLOBAL
        let selections = {
            characterType: null,
            clothing: null,
            traits: [],
            mount: null,
            environment: null,
            artStyle: null,
            aesthetic: null
        };
        
        let generatedPrompt = '';
        
        // INITIALISATION
        function initAll() {
            initCharacterTypes();
            initTraits();
            initMounts();
            initEnvironments();
            initArtStyles();
            initAesthetics();
            particlesEffect();
            
            document.getElementById('detailLevel').addEventListener('input', (e) => {
                document.getElementById('detailValue').textContent = e.target.value;
            });
        }
        
        function initCharacterTypes() {
            const grid = document.getElementById('characterTypeGrid');
            characterTypes.forEach((type, index) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${type.emoji}</span><small>${type.name}</small>`;
                btn.title = type.prompt;
                btn.onclick = () => selectCharacterType(index, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectCharacterType(index, btn) {
            document.querySelectorAll('#characterTypeGrid .grid-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            selections.characterType = characterTypes[index];
            document.getElementById('characterTypeInfo').style.display = 'block';
            document.getElementById('characterTypeDesc').textContent = selections.characterType.name;
            
            // Mise √† jour des v√™tements selon le type
            updateClothing();
        }
        
        function updateClothing() {
            const grid = document.getElementById('clothingGrid');
            grid.innerHTML = '';
            
            let clothingList = [];
            
            if (selections.characterType) {
                if (selections.characterType.name === "Femme") {
                    clothingList = clothing.woman;
                } else if (selections.characterType.name === "Homme") {
                    clothingList = clothing.man;
                } else {
                    clothingList = clothing.creature;
                }
            } else {
                clothingList = [...clothing.woman, ...clothing.man, ...clothing.creature];
            }
            
            clothingList.forEach((item, index) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${item.emoji}</span><small>${item.name}</small>`;
                btn.title = item.prompt;
                btn.onclick = () => selectClothing(item, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectClothing(item, btn) {
            document.querySelectorAll('#clothingGrid .grid-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            selections.clothing = item;
            document.getElementById('clothingInfo').style.display = 'block';
            document.getElementById('clothingDesc').textContent = item.name;
        }
        
        function initTraits() {
            const grid = document.getElementById('traitsGrid');
            traits.forEach((trait) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${trait.emoji}</span><small>${trait.name}</small>`;
                btn.title = trait.prompt;
                btn.onclick = () => toggleTrait(trait, btn);
                grid.appendChild(btn);
            });
        }
        
        function toggleTrait(trait, btn) {
            const index = selections.traits.findIndex(t => t.name === trait.name);
            
            if (index > -1) {
                selections.traits.splice(index, 1);
                btn.classList.remove('active');
            } else {
                if (selections.traits.length < 6) {
                    selections.traits.push(trait);
                    btn.classList.add('active');
                } else {
                    showStatus('‚ö†Ô∏è Maximum 6 traits s√©lectionnables', 'warning');
                    return;
                }
            }
            
            updateTraitsInfo();
        }
        
        function updateTraitsInfo() {
            if (selections.traits.length > 0) {
                document.getElementById('traitsInfo').style.display = 'block';
                document.getElementById('traitsDesc').textContent = 
                    selections.traits.map(t => t.name).join(', ');
            } else {
                document.getElementById('traitsInfo').style.display = 'none';
            }
        }
        
        function initMounts() {
            const grid = document.getElementById('mountGrid');
            mounts.forEach((mount) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${mount.emoji}</span><small>${mount.name}</small>`;
                btn.title = mount.prompt;
                btn.onclick = () => selectMount(mount, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectMount(mount, btn) {
            document.querySelectorAll('#mountGrid .grid-btn').forEach(b => b.classList.remove('active'));
            
            if (selections.mount && selections.mount.name === mount.name) {
                selections.mount = null;
                document.getElementById('mountInfo').style.display = 'none';
            } else {
                btn.classList.add('active');
                selections.mount = mount;
                document.getElementById('mountInfo').style.display = 'block';
                document.getElementById('mountDesc').textContent = mount.name;
            }
        }
        
        function initEnvironments() {
            const grid = document.getElementById('environmentGrid');
            environments.forEach((env) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${env.emoji}</span><small>${env.name}</small>`;
                btn.title = env.prompt;
                btn.onclick = () => selectEnvironment(env, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectEnvironment(env, btn) {
            document.querySelectorAll('#environmentGrid .grid-btn').forEach(b => b.classList.remove('active'));
            
            if (selections.environment && selections.environment.name === env.name) {
                selections.environment = null;
                document.getElementById('environmentInfo').style.display = 'none';
            } else {
                btn.classList.add('active');
                selections.environment = env;
                document.getElementById('environmentInfo').style.display = 'block';
                document.getElementById('environmentDesc').textContent = env.name;
            }
        }
        
        function initArtStyles() {
            const grid = document.getElementById('styleGrid');
            artStyles.forEach((style) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${style.emoji}</span><small>${style.name}</small>`;
                btn.title = style.prompt;
                btn.onclick = () => selectArtStyle(style, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectArtStyle(style, btn) {
            document.querySelectorAll('#styleGrid .grid-btn').forEach(b => b.classList.remove('active'));
            
            if (selections.artStyle && selections.artStyle.name === style.name) {
                selections.artStyle = null;
                document.getElementById('styleInfo').style.display = 'none';
            } else {
                btn.classList.add('active');
                selections.artStyle = style;
                document.getElementById('styleInfo').style.display = 'block';
                document.getElementById('styleDesc').textContent = style.name;
            }
        }
        
        function initAesthetics() {
            const grid = document.getElementById('aestheticGrid');
            aesthetics.forEach((aesthetic) => {
                const btn = document.createElement('div');
                btn.className = 'grid-btn';
                btn.innerHTML = `<span class="emoji-large">${aesthetic.emoji}</span><small>${aesthetic.name}</small>`;
                btn.title = aesthetic.prompt;
                btn.onclick = () => selectAesthetic(aesthetic, btn);
                grid.appendChild(btn);
            });
        }
        
        function selectAesthetic(aesthetic, btn) {
            document.querySelectorAll('#aestheticGrid .grid-btn').forEach(b => b.classList.remove('active'));
            
            if (selections.aesthetic && selections.aesthetic.name === aesthetic.name) {
                selections.aesthetic = null;
                document.getElementById('aestheticInfo').style.display = 'none';
            } else {
                btn.classList.add('active');
                selections.aesthetic = aesthetic;
                document.getElementById('aestheticInfo').style.display = 'block';
                document.getElementById('aestheticDesc').textContent = aesthetic.name;
            }
        }
        
        // G√âN√âRATION DU PROMPT
        function generatePrompt() {
            let prompt = '';
            
            // Style artistique en premier
            if (selections.artStyle) {
                prompt += selections.artStyle.prompt;
            } else {
                prompt += 'masterpiece, highly detailed, 8k quality';
            }
            
            // Type de personnage
            if (selections.characterType) {
                prompt += `, ${selections.characterType.prompt}`;
            }
            
            // V√™tements
            if (selections.clothing) {
                prompt += `, ${selections.clothing.prompt}`;
            }
            
            // Traits
            if (selections.traits.length > 0) {
                prompt += `, with ${selections.traits.map(t => t.prompt).join(', ')}`;
            }
            
            // Monture
            if (selections.mount) {
                prompt += `, ${selections.mount.prompt}`;
                const travelStyle = document.getElementById('travelStyle').value;
                if (travelStyle) {
                    prompt += `, ${travelStyle}`;
                }
            }
            
            // Environnement
            if (selections.environment) {
                prompt += `, ${selections.environment.prompt}`;
            }
            
            // Esth√©tique
            if (selections.aesthetic) {
                prompt += `, ${selections.aesthetic.prompt}`;
            }
            
            // D√©tails personnalis√©s
            const customDetails = document.getElementById('customDetails').value.trim();
            if (customDetails) {
                prompt += `, ${customDetails}`;
            }
            
            // Niveau de d√©tails
            const detailLevel = document.getElementById('detailLevel').value;
            prompt += `, detail enhancement level ${detailLevel}/10`;
            
            generatedPrompt = prompt;
            document.getElementById('promptOutput').textContent = prompt;
            showStatus('‚ú® Prompt g√©n√©r√© avec succ√®s !', 'success');
        }
        
        function copyPrompt() {
            if (!generatedPrompt) {
                showStatus('‚ö†Ô∏è G√©n√©rez d\'abord un prompt !', 'warning');
                return;
            }
            
            navigator.clipboard.writeText(generatedPrompt).then(() => {
                showStatus('üìã Prompt copi√© dans le presse-papier !', 'success');
            }).catch(() => {
                showStatus('‚ùå Erreur lors de la copie', 'error');
            });
        }
        
        function clearAll() {
            document.querySelectorAll('.grid-btn.active').forEach(btn => btn.classList.remove('active'));
            
            selections = {
                characterType: null,
                clothing: null,
                traits: [],
                mount: null,
                environment: null,
                artStyle: null,
                aesthetic: null
            };
            
            generatedPrompt = '';
            
            document.querySelectorAll('.selection-info').forEach(info => info.style.display = 'none');
            document.getElementById('customDetails').value = '';
            document.getElementById('promptOutput').textContent = 'Configurez votre personnage en s√©lectionnant les options ci-dessus, puis cliquez sur "G√©n√©rer Prompt"...';
            
            showStatus('üóëÔ∏è Tout a √©t√© r√©initialis√©', 'success');
        }
        
        function randomize() {
            clearAll();
            
            setTimeout(() => {
                // Random character type
                const charBtns = document.querySelectorAll('#characterTypeGrid .grid-btn');
                charBtns[Math.floor(Math.random() * charBtns.length)].click();
                
                setTimeout(() => {
                    // Random clothing
                    const clothBtns = document.querySelectorAll('#clothingGrid .grid-btn');
                    if (clothBtns.length > 0) {
                        clothBtns[Math.floor(Math.random() * clothBtns.length)].click();
                    }
                    
                    // Random traits (2-4)
                    const traitCount = Math.floor(Math.random() * 3) + 2;
                    const traitBtns = document.querySelectorAll('#traitsGrid .grid-btn');
                    const usedIndices = [];
                    
                    for (let i = 0; i < traitCount; i++) {
                        let idx;
                        do {
                            idx = Math.floor(Math.random() * traitBtns.length);
                        } while (usedIndices.includes(idx));
                        usedIndices.push(idx);
                        traitBtns[idx].click();
                    }
                    
                    // Random mount (50%)
                    if (Math.random() > 0.5) {
                        const mountBtns = document.querySelectorAll('#mountGrid .grid-btn');
                        mountBtns[Math.floor(Math.random() * mountBtns.length)].click();
                    }
                    
                    // Random environment (80%)
                    if (Math.random() > 0.2) {
                        const envBtns = document.querySelectorAll('#environmentGrid .grid-btn');
                        envBtns[Math.floor(Math.random() * envBtns.length)].click();
                    }
                    
                    // Random art style (90%)
                    if (Math.random() > 0.1) {
                        const styleBtns = document.querySelectorAll('#styleGrid .grid-btn');
                        styleBtns[Math.floor(Math.random() * styleBtns.length)].click();
                    }
                    
                    // Random aesthetic (70%)
                    if (Math.random() > 0.3) {
                        const aesButtons = document.querySelectorAll('#aestheticGrid .grid-btn');
                        aesButtons[Math.floor(Math.random() * aesButtons.length)].click();
                    }
                    
                    document.getElementById('detailLevel').value = Math.floor(Math.random() * 10) + 1;
                    document.getElementById('detailValue').textContent = document.getElementById('detailLevel').value;
                    
                    setTimeout(() => {
                        generatePrompt();
                        showStatus('üé≤ Configuration al√©atoire compl√®te g√©n√©r√©e !', 'success');
                    }, 100);
                }, 200);
            }, 100);
        }
        
        function toggleSection(header) {
            header.classList.toggle('collapsed');
            const content = header.nextElementSibling;
            content.classList.toggle('collapsed');
        }
        
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.style.display = 'block';
            
            if (type === 'success') {
                status.style.background = 'rgba(0,255,127,0.3)';
                status.style.borderColor = '#00ff80';
            } else if (type === 'warning') {
                status.style.background = 'rgba(255,193,7,0.3)';
                status.style.borderColor = '#ffc107';
            } else if (type === 'error') {
                status.style.background = 'rgba(244,67,54,0.3)';
                status.style.borderColor = '#f44336';
            }
            
            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }
        
        function particlesEffect() {
            const canvas = document.getElementById('particles');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const particles = [];
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.8,
                    vy: (Math.random() - 0.5) * 0.8,
                    size: Math.random() * 2.5 + 0.5,
                    hue: Math.random() * 360
                });
            }
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
                    
                    ctx.fillStyle = `hsla(${p.hue}, 80%, 70%, 0.4)`;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                });
                
                requestAnimationFrame(animate);
            }
            animate();
            
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }
        
        // Initialisation
        initAll();
    </script>
</body>
</html>

