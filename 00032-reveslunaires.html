<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Dreams - G√©n√©rateur de Prompts Lunaires</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            font-family: 'Cormorant Garamond', serif;
        }
        
        h1, h2, h3 {
            font-family: 'Cinzel', serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #312e81 50%, #0f172a 100%);
            min-height: 100vh;
        }
        
        .moon-glow {
            box-shadow: 0 0 60px rgba(147, 197, 253, 0.4), 0 0 120px rgba(147, 197, 253, 0.2);
        }
        
        .art-nouveau-border {
            border: 2px solid;
            border-image: linear-gradient(45deg, #93c5fd, #c4b5fd, #fbbf24, #93c5fd) 1;
            position: relative;
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(10px);
        }
        
        .art-nouveau-border::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            background: linear-gradient(45deg, #93c5fd, #c4b5fd, #fbbf24, #93c5fd);
            opacity: 0.1;
            border-radius: 12px;
            z-index: -1;
        }
        
        .celestial-pattern {
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(147, 197, 253, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(196, 181, 253, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(251, 191, 36, 0.05) 0%, transparent 50%);
        }
        
        select, input, textarea {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(147, 197, 253, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            color: white;
        }
        
        select:hover, input:hover, textarea:hover {
            border-color: rgba(147, 197, 253, 0.6);
            background: rgba(15, 23, 42, 0.8);
        }
        
        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: #93c5fd;
            box-shadow: 0 0 20px rgba(147, 197, 253, 0.3);
        }
        
        button {
            transition: all 0.3s ease;
        }
        
        button:hover {
            box-shadow: 0 0 30px rgba(147, 197, 253, 0.5);
            transform: translateY(-2px);
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .star {
            position: fixed;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
            pointer-events: none;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .moon-ornament {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #fbbf24, #f59e0b, #d97706);
            border-radius: 50%;
            box-shadow: 0 0 60px rgba(251, 191, 36, 0.6), inset -10px -10px 30px rgba(0, 0, 0, 0.3);
        }

        option[disabled] {
            color: #fbbf24;
            font-weight: bold;
            font-style: italic;
        }
    </style>
</head>
<body class="text-white p-8">
    <!-- √âtoiles d√©coratives -->
    <div id="stars"></div>

    <div class="max-w-7xl mx-auto fade-in">
        <!-- En-t√™te -->
        <div class="flex items-center justify-center mb-12 gap-6 flex-wrap">
            <div class="moon-ornament"></div>
            <div class="text-center">
                <h1 class="text-6xl font-bold mb-3 bg-gradient-to-r from-blue-300 via-purple-300 to-yellow-300 bg-clip-text text-transparent">
                    Lunar Dreams
                </h1>
                <p class="text-xl text-blue-200 italic">G√©n√©rateur de Prompts Lunaires ‚ú®</p>
            </div>
            <div class="moon-ornament"></div>
        </div>

        <!-- Boutons d'action principaux -->
        <div class="flex flex-wrap gap-4 justify-center mb-8">
            <button onclick="randomize()" class="flex items-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-3 rounded-lg font-semibold">
                üé≤ G√©n√©rer Al√©atoire
            </button>
            <button onclick="copyBothPrompts()" class="flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-3 rounded-lg font-semibold">
                üìã Copier Prompt Complet
            </button>
            <button onclick="resetAll()" class="flex items-center gap-2 bg-gradient-to-r from-red-600 to-rose-600 px-6 py-3 rounded-lg font-semibold">
                üîÑ 100% Reset
            </button>
        </div>

        <!-- Grille des param√®tres -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            
            <!-- Sujet Principal -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    ‚ú® Sujet Principal
                </h3>
                <select id="subject" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>La Lune seule</option>
                    <option>Personnage Steampunk</option>
                    <option>Robot Steampunk</option>
                    <option>Cyberpunk Warrior</option>
                    <option>Goldorak / UFO Robot</option>
                    <option>Licorne</option>
                    <option>Jeune femme elfique</option>
                    <option>For√™t enchant√©e</option>
                    <option>Dragon</option>
                    <option>Couple de Dragons</option>
                    <option>Alice et ses amis</option>
                    <option>Tinkerbell</option>
                    <option>Loup-garou</option>
                    <option>Sorci√®re/Magicienne</option>
                    <option>Ch√¢teau gothique</option>
                    <option>Navire volant</option>
                    <option>Ph√©nix</option>
                    <option>Sir√®ne lunaire</option>
                    <option>Mecha g√©ant (style anime)</option>
                    <option>Pilote d'avion vintage (style Porco Rosso)</option>
                </select>
                <input type="text" id="customSubject" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Style Artistique -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    üé® Style Artistique
                </h3>
                <div class="mb-3">
                    <label class="flex items-center gap-2 mb-2 cursor-pointer">
                        <input type="checkbox" id="fusionMode" onchange="toggleFusion()" class="w-5 h-5">
                        <span class="font-semibold">Mode Fusion (2 styles)</span>
                    </label>
                </div>
                <select id="style1" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>Fantasy √©pique</option>
                    <option>Steampunk victorien</option>
                    <option>Charcoal (fusain)</option>
                    <option>Icy blue (bleu glac√©)</option>
                    <option>Vaporwave</option>
                    <option>Anime/Manga</option>
                    <option>Art nouveau</option>
                    <option>R√©alisme photographique</option>
                    <option>Peinture √† l'huile classique</option>
                    <option>Aquarelle onirique</option>
                    <option>Digital art moderne</option>
                    <option>Gothic dark fantasy</option>
                    <option>Illustration de conte de f√©es</option>
                    <option>Cyberpunk n√©on</option>
                </select>
                <div id="fusionControls" style="display: none;">
                    <select id="style2" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                        <option value="">Choisir un 2√®me style...</option>
                        <option>Fantasy √©pique</option>
                        <option>Steampunk victorien</option>
                        <option>Charcoal (fusain)</option>
                        <option>Icy blue (bleu glac√©)</option>
                        <option>Vaporwave</option>
                        <option>Anime/Manga</option>
                        <option>Art nouveau</option>
                        <option>R√©alisme photographique</option>
                        <option>Peinture √† l'huile classique</option>
                        <option>Aquarelle onirique</option>
                        <option>Digital art moderne</option>
                        <option>Gothic dark fantasy</option>
                        <option>Illustration de conte de f√©es</option>
                        <option>Cyberpunk n√©on</option>
                    </select>
                    <div class="mb-3">
                        <label class="block text-sm mb-2" id="weightLabel">
                            Pond√©ration: Style 1 (70%) / Style 2 (30%)
                        </label>
                        <input type="range" id="styleWeight" min="0" max="10" value="7" oninput="updateWeightLabel(); updatePrompts();" class="w-full">
                    </div>
                </div>
                <input type="text" id="customStyle" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Univers Cin√©matographique -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    üé¨ Univers Cin√©matographique
                </h3>
                <select id="universe" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Aucun (optionnel)</option>
                    <option disabled>--- Science-Fiction / Cyberpunk ---</option>
                    <option>Blade Runner / Blade Runner 2049</option>
                    <option>The Matrix</option>
                    <option>Tron / Tron Legacy</option>
                    <option>Ghost in the Shell</option>
                    <option>Akira</option>
                    <option>Cowboy Bebop</option>
                    <option>Neon Genesis Evangelion</option>
                    <option>Psycho-Pass</option>
                    <option>Mad Max (Fury Road)</option>
                    <option>Fifth Element</option>
                    <option>Dune</option>
                    <option>Star Wars</option>
                    <option>Alien</option>
                    <option>Interstellar</option>
                    <option>Ex Machina</option>
                    <option disabled>--- Fantasy / M√©di√©val ---</option>
                    <option>Lord of the Rings</option>
                    <option>The Hobbit</option>
                    <option>Game of Thrones</option>
                    <option>The Witcher</option>
                    <option>Willow</option>
                    <option>Labyrinth</option>
                    <option>The Dark Crystal</option>
                    <option>Excalibur</option>
                    <option>Stardust</option>
                    <option>Pan's Labyrinth</option>
                    <option>The Princess Bride</option>
                    <option>Legend</option>
                    <option>Berserk</option>
                    <option disabled>--- Tim Burton & Quirky ---</option>
                    <option>Beetlejuice</option>
                    <option>Edward Scissorhands</option>
                    <option>The Nightmare Before Christmas</option>
                    <option>Corpse Bride</option>
                    <option>Alice in Wonderland (Burton)</option>
                    <option>Sleepy Hollow</option>
                    <option>Sweeney Todd</option>
                    <option disabled>--- Steampunk / Victorien / Gothic ---</option>
                    <option>Brazil</option>
                    <option>The City of Lost Children</option>
                    <option>Hugo</option>
                    <option>Sherlock Holmes (Guy Ritchie)</option>
                    <option>The Golden Compass</option>
                    <option>Mortal Engines</option>
                    <option>Steamboy</option>
                    <option>Fullmetal Alchemist</option>
                    <option>Vampire Hunter D</option>
                    <option>Hellsing</option>
                    <option>Castlevania</option>
                    <option>The Empire of Corpses</option>
                    <option disabled>--- Whimsical / Contemporain ---</option>
                    <option>Am√©lie Poulain</option>
                    <option>Big Fish</option>
                    <option>The Fall</option>
                    <option>A Monster Calls</option>
                    <option>The Shape of Water</option>
                    <option>Fantastic Beasts</option>
                    <option>Harry Potter</option>
                    <option>Chronicles of Narnia</option>
                    <option disabled>--- Horreur / Gothic / Dark ---</option>
                    <option>Crimson Peak</option>
                    <option>The Crow</option>
                    <option>Underworld</option>
                    <option>Van Helsing</option>
                    <option>Dracula (Coppola)</option>
                    <option>Constantine</option>
                    <option>Hellboy</option>
                    <option>Bloodborne</option>
                    <option disabled>--- Studio Ghibli & Anime Classiques ---</option>
                    <option>Spirited Away</option>
                    <option>Howl's Moving Castle</option>
                    <option>Princess Mononoke</option>
                    <option>Porco Rosso</option>
                    <option>Castle in the Sky (Laputa)</option>
                    <option>Nausica√§</option>
                    <option>Kiki's Delivery Service</option>
                    <option>My Neighbor Totoro</option>
                    <option>Ponyo</option>
                    <option disabled>--- Animation Occidentale ---</option>
                    <option>Coco</option>
                    <option>Up</option>
                    <option>Inside Out</option>
                    <option>Kubo and the Two Strings</option>
                    <option>The Secret of Kells</option>
                    <option disabled>--- Anime Aventure / Action ---</option>
                    <option>Lupin III (Ars√®ne Lupin III)</option>
                    <option>UFO Robot Goldorak (Grendizer)</option>
                    <option>Mazinger Z</option>
                    <option>Captain Harlock</option>
                    <option>Trigun</option>
                    <option>Samurai Champloo</option>
                    <option disabled>--- Autres Univers Marquants ---</option>
                    <option>Pirates of the Caribbean</option>
                    <option>Avatar (Cameron)</option>
                    <option>Guardians of the Galaxy</option>
                    <option>Doctor Strange</option>
                    <option>Thor (Asgard)</option>
                    <option>Assassin's Creed</option>
                    <option>300</option>
                    <option>Sin City</option>
                </select>
                <input type="text" id="customUniverse" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Ambiance -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    üåô Ambiance
                </h3>
                <select id="atmosphere" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>Pleine lune √©clatante</option>
                    <option>Croissant de lune d√©licat</option>
                    <option>Lune rousse/cuivr√©e</option>
                    <option>√âclipse lunaire</option>
                    <option>Super lune gigantesque</option>
                    <option>Lune bleue mystique</option>
                    <option>Lunes multiples</option>
                    <option>Lune derri√®re les nuages</option>
                    <option>Aurore bor√©ale magique</option>
                    <option>Coucher de soleil cr√©pusculaire</option>
                    <option>Aube brumeuse</option>
                    <option>Temp√™te √©lectrique</option>
                    <option>Brume foresti√®re</option>
                    <option>N√©ons cyberpunk</option>
                    <option>R√©tro-futuriste</option>
                    <option>Dystopie industrielle</option>
                    <option>Utopie high-tech</option>
                    <option>F√©√©rique √©tincelante</option>
                    <option>Sombre et mystique</option>
                    <option>Onirique surr√©aliste</option>
                    <option>Portail interdimensionnel</option>
                </select>
                <input type="text" id="customAtmosphere" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- √âclairage -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">üí° √âclairage</h3>
                <select id="lighting" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>Clair de lune doux</option>
                    <option>Rayons lunaires dramatiques</option>
                    <option>Contre-jour lunaire</option>
                    <option>Lueur argent√©e</option>
                    <option>Aurores bor√©ales + lune</option>
                    <option>√âclairage de conte de f√©es</option>
                    <option>Lumi√®res dor√©es scintillantes</option>
                    <option>Brume lumineuse</option>
                </select>
                <input type="text" id="customLighting" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Environnement -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">üèûÔ∏è Environnement</h3>
                <select id="environment" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>√âchiquier g√©ant</option>
                    <option>For√™t nocturne</option>
                    <option>Ch√¢teau sur une falaise</option>
                    <option>Jardin enchant√©</option>
                    <option>D√©sert mystique</option>
                    <option>Montagne enneig√©e</option>
                    <option>Oc√©an sous la lune</option>
                    <option>Cit√© flottante</option>
                    <option>Biblioth√®que ancienne</option>
                    <option>Portail dimensionnel</option>
                </select>
                <input type="text" id="customEnvironment" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- √âl√©ments Suppl√©mentaires -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">‚ú® √âl√©ments Suppl√©mentaires</h3>
                <select id="elements" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>√âtoiles scintillantes</option>
                    <option>Nuages √©th√©r√©s</option>
                    <option>Oiseaux nocturnes</option>
                    <option>Papillons lumineux</option>
                    <option>Fleurs magiques</option>
                    <option>Cristaux brillants</option>
                    <option>Engrenages steampunk</option>
                    <option>Particules de magie</option>
                    <option>Brouillard myst√©rieux</option>
                    <option>Ruines anciennes</option>
                </select>
                <input type="text" id="customElements" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Palette Chromatique -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">üé® Palette Chromatique</h3>
                <div class="mb-3">
                    <label class="flex items-center gap-2 mb-2 cursor-pointer">
                        <input type="checkbox" id="useCustomColors" onchange="toggleCustomColors()" class="w-5 h-5">
                        <span class="font-semibold">Couleurs personnalis√©es</span>
                    </label>
                </div>
                <div id="presetColors">
                    <select id="colorPalette" onchange="updatePrompts()" class="w-full p-3 rounded-lg">
                        <option value="">Choisir...</option>
                        <option>Bleu nuit & argent</option>
                        <option>Or & noir</option>
                        <option>Violet & bronze</option>
                        <option>Blanc & bleu glac√©</option>
                        <option>Cuivre & √©meraude</option>
                        <option>Palette automnale chaude</option>
                        <option>Tons s√©pia vintage</option>
                    </select>
                </div>
                <div id="customColorsDiv" style="display: none;" class="grid grid-cols-3 gap-3">
                    <div>
                        <label class="block text-sm mb-1">Couleur 1</label>
                        <input type="color" id="customColor1" value="#1a1a2e" onchange="updatePrompts()" class="w-full h-12 rounded cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm mb-1">Couleur 2</label>
                        <input type="color" id="customColor2" value="#c0c0c0" onchange="updatePrompts()" class="w-full h-12 rounded cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm mb-1">Couleur 3</label>
                        <input type="color" id="customColor3" value="#f4d03f" onchange="updatePrompts()" class="w-full h-12 rounded cursor-pointer">
                    </div>
                </div>
            </div>

            <!-- Qualit√© -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">‚öôÔ∏è Qualit√© & D√©tails</h3>
                <select id="quality" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option>Ultra d√©taill√©, 8K</option>
                    <option>Cin√©matique, haute r√©solution</option>
                    <option>D√©tails fins et complexes</option>
                    <option>Rendu professionnel</option>
                    <option>Style artstation trending</option>
                    <option>Masterpiece quality</option>
                </select>
                <input type="text" id="customQuality" placeholder="Personnalisation..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>

            <!-- Format de Sortie -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <h3 class="text-2xl font-bold mb-4">üìê Format de Sortie</h3>
                <select id="aspectRatio" onchange="updatePrompts()" class="w-full p-3 rounded-lg mb-3">
                    <option value="">Choisir...</option>
                    <option value="--ar 1:1">1:1 (Carr√© - Instagram)</option>
                    <option value="--ar 16:9">16:9 (Paysage - Desktop, YouTube)</option>
                    <option value="--ar 9:16">9:16 (Portrait - Stories, TikTok)</option>
                    <option value="--ar 4:3">4:3 (Format classique)</option>
                    <option value="--ar 3:2">3:2 (Photo)</option>
                    <option value="--ar 4:5">4:5 (Portrait Instagram)</option>
                    <option value="--ar 21:9">21:9 (Ultra-wide cin√©matique)</option>
                    <option value="--ar 2:3">2:3 (Portrait photo)</option>
                </select>
                <input type="text" id="customAspectRatio" placeholder="Format personnalis√© (ex: --ar 5:4)..." onchange="updatePrompts()" class="w-full p-2 rounded-lg text-sm">
            </div>
        </div>

        <!-- R√©sultats -->
        <div class="space-y-6">
            <!-- Prompt Positif -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <div class="flex items-center justify-between mb-4 flex-wrap gap-4">
                    <h3 class="text-2xl font-bold text-green-400">‚úÖ Prompt Positif</h3>
                    <button onclick="copyPositivePrompt()" class="flex items-center gap-2 bg-green-600 px-4 py-2 rounded-lg">
                        üìã Copier
                    </button>
                </div>
                <textarea id="positivePrompt" readonly class="w-full p-4 rounded-lg h-32"></textarea>
            </div>

            <!-- Prompt N√©gatif -->
            <div class="art-nouveau-border celestial-pattern p-6 rounded-xl">
                <div class="flex items-center justify-between mb-4 flex-wrap gap-4">
                    <h3 class="text-2xl font-bold text-red-400">‚ùå Prompt N√©gatif</h3>
                    <button onclick="copyNegativePrompt()" class="flex items-center gap-2 bg-red-600 px-4 py-2 rounded-lg">
                        üìã Copier
                    </button>
                </div>
                <textarea id="negativePrompt" readonly class="w-full p-4 rounded-lg h-24"></textarea>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-12 text-blue-300 italic">
            <p>Cr√©√© avec ‚ú® pour capturer la magie de la lune üåô</p>
        </div>
    </div>

    <script>
        // G√©n√©ration des √©toiles
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsContainer.appendChild(star);
        }

        // Fonctions principales
        function generatePrompt() {
            let prompt = '';
            
            const subject = document.getElementById('subject').value;
            const customSubject = document.getElementById('customSubject').value;
            if (subject) {
                prompt += subject;
                if (customSubject) prompt += `, ${customSubject}`;
                prompt += ', ';
            } else if (customSubject) {
                prompt += customSubject + ', ';
            }
            
            const style1 = document.getElementById('style1').value;
            const customStyle = document.getElementById('customStyle').value;
            const fusionMode = document.getElementById('fusionMode').checked;
            const style2 = document.getElementById('style2').value;
            const styleWeight = parseInt(document.getElementById('styleWeight').value) / 10;
            
            if (style1) {
                if (fusionMode && style2) {
                    const weight2 = (1 - styleWeight).toFixed(1);
                    prompt += `(${style1}:${styleWeight.toFixed(1)}), (${style2}:${weight2})`;
                } else {
                    prompt += style1;
                }
                if (customStyle) prompt += `, ${customStyle}`;
                prompt += ', ';
            } else if (customStyle) {
                prompt += customStyle + ', ';
            }
            
            const universe = document.getElementById('universe').value;
            const customUniverse = document.getElementById('customUniverse').value;
            if (universe) {
                prompt += `in the style of ${universe}`;
                if (customUniverse) prompt += `, ${customUniverse}`;
                prompt += ', ';
            } else if (customUniverse) {
                prompt += customUniverse + ', ';
            }
            
            const atmosphere = document.getElementById('atmosphere').value;
            const customAtmosphere = document.getElementById('customAtmosphere').value;
            if (atmosphere) {
                prompt += atmosphere;
                if (customAtmosphere) prompt += `, ${customAtmosphere}`;
                prompt += ', ';
            } else if (customAtmosphere) {
                prompt += customAtmosphere + ', ';
            }
            
            const lighting = document.getElementById('lighting').value;
            const customLighting = document.getElementById('customLighting').value;
            if (lighting) {
                prompt += lighting;
                if (customLighting) prompt += `, ${customLighting}`;
                prompt += ', ';
            } else if (customLighting) {
                prompt += customLighting + ', ';
            }
            
            const environment = document.getElementById('environment').value;
            const customEnvironment = document.getElementById('customEnvironment').value;
            if (environment) {
                prompt += environment;
                if (customEnvironment) prompt += `, ${customEnvironment}`;
                prompt += ', ';
            } else if (customEnvironment) {
                prompt += customEnvironment + ', ';
            }
            
            const elements = document.getElementById('elements').value;
            const customElements = document.getElementById('customElements').value;
            if (elements) {
                prompt += elements;
                if (customElements) prompt += `, ${customElements}`;
                prompt += ', ';
            } else if (customElements) {
                prompt += customElements + ', ';
            }
            
            const useCustomColors = document.getElementById('useCustomColors').checked;
            if (useCustomColors) {
                const color1 = document.getElementById('customColor1').value;
                const color2 = document.getElementById('customColor2').value;
                const color3 = document.getElementById('customColor3').value;
                prompt += `color palette: ${color1}, ${color2}, ${color3}, `;
            } else {
                const colorPalette = document.getElementById('colorPalette').value;
                if (colorPalette) {
                    prompt += colorPalette + ', ';
                }
            }
            
            const quality = document.getElementById('quality').value;
            const customQuality = document.getElementById('customQuality').value;
            if (quality) {
                prompt += quality;
                if (customQuality) prompt += `, ${customQuality}`;
            } else if (customQuality) {
                prompt += customQuality;
            }
            
            // Aspect Ratio
            const aspectRatio = document.getElementById('aspectRatio').value;
            const customAspectRatio = document.getElementById('customAspectRatio').value;
            if (aspectRatio) {
                prompt += ' ' + aspectRatio;
            } else if (customAspectRatio) {
                prompt += ' ' + customAspectRatio;
            }
            
            return prompt.trim();
        }

        function generateNegativePrompt() {
            return 'low quality, blurry, distorted, deformed, ugly, bad anatomy, extra limbs, poorly drawn, amateur, low resolution, watermark, text, signature, dated, modern elements out of context, jpeg artifacts, compression artifacts, grainy, pixelated';
        }

        function updatePrompts() {
            document.getElementById('positivePrompt').value = generatePrompt();
            document.getElementById('negativePrompt').value = generateNegativePrompt();
        }

        function copyPositivePrompt() {
            const text = document.getElementById('positivePrompt').value;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ Prompt positif copi√© !');
            });
        }

        function copyNegativePrompt() {
            const text = document.getElementById('negativePrompt').value;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ Prompt n√©gatif copi√© !');
            });
        }

        function copyBothPrompts() {
            const positive = document.getElementById('positivePrompt').value;
            const negative = document.getElementById('negativePrompt').value;
            const combined = `PROMPT POSITIF:\n${positive}\n\nPROMPT N√âGATIF:\n${negative}`;
            navigator.clipboard.writeText(combined).then(() => {
                alert('‚úÖ Prompts complets copi√©s !');
            });
        }

        function toggleFusion() {
            const fusionMode = document.getElementById('fusionMode').checked;
            document.getElementById('fusionControls').style.display = fusionMode ? 'block' : 'none';
            updatePrompts();
        }

        function updateWeightLabel() {
            const weight = parseInt(document.getElementById('styleWeight').value) / 10;
            const weight1 = Math.round(weight * 100);
            const weight2 = 100 - weight1;
            document.getElementById('weightLabel').textContent = 
                `Pond√©ration: Style 1 (${weight1}%) / Style 2 (${weight2}%)`;
        }

        function toggleCustomColors() {
            const useCustom = document.getElementById('useCustomColors').checked;
            document.getElementById('presetColors').style.display = useCustom ? 'none' : 'block';
            document.getElementById('customColorsDiv').style.display = useCustom ? 'grid' : 'none';
            updatePrompts();
        }

        function getRandomFromSelect(selectId) {
            const select = document.getElementById(selectId);
            const options = Array.from(select.options).filter(opt => !opt.disabled && opt.value);
            const randomIndex = Math.floor(Math.random() * options.length);
            return options[randomIndex].value;
        }

        function randomize() {
            document.getElementById('subject').value = getRandomFromSelect('subject');
            document.getElementById('style1').value = getRandomFromSelect('style1');
            
            const shouldFusion = Math.random() > 0.5;
            document.getElementById('fusionMode').checked = shouldFusion;
            toggleFusion();
            
            if (shouldFusion) {
                document.getElementById('style2').value = getRandomFromSelect('style1');
                document.getElementById('styleWeight').value = Math.floor(Math.random() * 11);
                updateWeightLabel();
            }
            
            document.getElementById('universe').value = getRandomFromSelect('universe');
            document.getElementById('atmosphere').value = getRandomFromSelect('atmosphere');
            document.getElementById('lighting').value = getRandomFromSelect('lighting');
            document.getElementById('environment').value = getRandomFromSelect('environment');
            document.getElementById('elements').value = getRandomFromSelect('elements');
            document.getElementById('quality').value = getRandomFromSelect('quality');
            document.getElementById('colorPalette').value = getRandomFromSelect('colorPalette');
            document.getElementById('aspectRatio').value = getRandomFromSelect('aspectRatio');
            
            updatePrompts();
        }

        function resetAll() {
            document.getElementById('subject').selectedIndex = 0;
            document.getElementById('style1').selectedIndex = 0;
            document.getElementById('style2').selectedIndex = 0;
            document.getElementById('styleWeight').value = 7;
            document.getElementById('fusionMode').checked = false;
            toggleFusion();
            document.getElementById('universe').selectedIndex = 0;
            document.getElementById('atmosphere').selectedIndex = 0;
            document.getElementById('lighting').selectedIndex = 0;
            document.getElementById('environment').selectedIndex = 0;
            document.getElementById('elements').selectedIndex = 0;
            document.getElementById('quality').selectedIndex = 0;
            document.getElementById('colorPalette').selectedIndex = 0;
            document.getElementById('aspectRatio').selectedIndex = 0;
            document.getElementById('useCustomColors').checked = false;
            toggleCustomColors();
            
            document.getElementById('customSubject').value = '';
            document.getElementById('customStyle').value = '';
            document.getElementById('customUniverse').value = '';
            document.getElementById('customAtmosphere').value = '';
            document.getElementById('customLighting').value = '';
            document.getElementById('customEnvironment').value = '';
            document.getElementById('customElements').value = '';
            document.getElementById('customQuality').value = '';
            document.getElementById('customAspectRatio').value = '';
            
            updatePrompts();
        }

        // Initialisation
        updatePrompts();
    </script>
</body>
</html>
