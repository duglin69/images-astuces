<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Icon Experience Generator - Pro Director Edition</title>
    <style>
        :root { --gold: #ffa502; --action: #2ed573; --bg: #1e2124; --panel: #2f3542; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; padding: 20px; line-height: 1.4; }
        .app-container { max-width: 900px; margin: auto; background: var(--panel); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .section { margin-bottom: 15px; }
        .full { grid-column: span 2; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: var(--gold); font-size: 0.9em; }
        select, input, textarea { width: 100%; padding: 10px; border-radius: 6px; border: none; background: #57606f; color: white; box-sizing: border-box; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; background: #1e2124; padding: 12px; border-radius: 8px; border: 1px solid var(--gold); margin-top: 10px; }
        #generateBtn { width: 100%; padding: 15px; background: var(--action); border: none; border-radius: 10px; color: white; font-size: 1.2em; font-weight: bold; cursor: pointer; margin-top: 20px; }
        .output-box { margin-top: 25px; padding: 15px; background: #1a1a1a; border-radius: 8px; border: 1px solid #444; }
        .negative-prompt { color: #ff4757; font-size: 0.85em; margin-top: 10px; border-top: 1px solid #333; padding-top: 10px; }
        .custom-input { display: none; margin-top: 5px; background: #4b5563; }
    </style>
</head>
<body>

<div class="app-container">
    <h1 style="text-align: center; margin-top:0;">üé• Icon Experience : Pro Director</h1>

    <div class="grid">
        <div class="section">
            <label>L'Ic√¥ne (Acteur, Sportif, Chanteur...)</label>
            <input type="text" id="iconName" placeholder="Steve McQueen, Platini, Prince...">
        </div>

        <div class="section">
            <label>Contexte / Lieu (Background)</label>
            <select id="contextPlace" onchange="toggleCustom(this, 'customPlace')">
                <option value="in a legendary music studio">Studio d'enregistrement mythique</option>
                <option value="on a sun-drenched beach">Plage ensoleill√©e</option>
                <option value="in the middle of a crowded stadium">Stade bond√©</option>
                <option value="on a luxury rooftop at sunset">Rooftop luxueux au coucher du soleil</option>
                <option value="backstage at a concert">Coulisses d'un concert</option>
                <option value="on a red carpet with camera flashes">Tapis rouge et flashs</option>
                <option value="in a vintage American diner">Diner am√©ricain r√©tro</option>
                <option value="on a busy New York street">Rue anim√©e de New York</option>
                <option value="in a private jet cabin">Cabine de jet priv√©</option>
                <option value="in a neon-lit nightclub">Night-club aux n√©ons</option>
                <option value="custom">-- Personnalis√© (Tapez le v√¥tre) --</option>
            </select>
            <input type="text" id="customPlace" class="custom-input" placeholder="Ex: in a space station, in a jazz club...">
        </div>

        <div class="section">
            <label>Cadrage & Composition</label>
            <select id="framing" onchange="toggleCustom(this, 'customFraming')">
                <option value="Close-up (Portrait rapproch√©)">Close-up (Portrait)</option>
                <option value="Rule of thirds">R√®gle des deux tiers</option>
                <option value="Low angle shot">Contre-plong√©e</option>
                <option value="Wide shot">Plan large</option>
                <option value="POV (Point of view)">Point de vue (POV)</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customFraming" class="custom-input" placeholder="D√©crivez votre cadrage...">
        </div>

        <div class="section">
            <label>Atmosph√®re & Lumi√®re</label>
            <select id="lighting" onchange="toggleCustom(this, 'customLighting')">
                <option value="Morning glow (soft light, light mist)">Glow matinal</option>
                <option value="Harsh zenith sun (blazing sun, deep shadows)">Z√©nith √©crasant</option>
                <option value="Golden Hour (warm amber hues)">Golden Hour</option>
                <option value="Blue Hour (deep twilight, electric atmosphere)">Heure Bleue</option>
                <option value="Night neon (pink and blue reflections)">N√©on nocturne</option>
                <option value="Cinematic rim lighting (light outline)">Contre-jour cin√©matique</option>
                <option value="Studio haze (illuminated particles)">Brumes de studio</option>
                <option value="Dramatic chiaroscuro (high contrast)">Clair-obscur dramatique</option>
                <option value="Dimmed light (candlelight style)">Lumi√®re tamis√©e</option>
                <option value="Direct flash (paparazzi look, harsh shadows)">Flash direct (Look Paparazzi)</option>
                <option value="Rain reflections (shimmering city lights)">Reflets de pluie</option>
                <option value="Nostalgic sepia (old film vibe)">S√©pia nostalgique</option>
                <option value="High Key (bright and light-filled)">High Key</option>
                <option value="Low Key (dark and mysterious)">Low Key</option>
                <option value="Vaporwave (purple and cyan tones)">Vaporwave</option>
                <option value="Ice and Steel (cold blue metallic)">Glace et Acier</option>
                <option value="Wood fire (orange flickering glow)">Feu de bois</option>
                <option value="Gold dust (sunbeams and particles)">Poussi√®re d'or</option>
                <option value="Prismatic rainbow (refracted light)">Arc-en-ciel prismatique</option>
                <option value="Film Noir B&W (heavy grain, 1950s)">Noir et Blanc argentique</option>
                <option value="Cyberpunk Glitch (unstable lights)">Cyberpunk Glitch</option>
                <option value="Soft Focus (dreamy and glowing)">Soft Focus</option>
                <option value="Aquarium light (turquoise reflections)">Lumi√®re d'aquarium</option>
                <option value="Impending storm (leaden sky, electric)">Orage imminent</option>
                <option value="Purple sunset (intense violet tones)">Coucher de soleil pourpre</option>
                <option value="Underground light (cold industrial neon)">Lumi√®re de souterrain</option>
                <option value="Sun-drenched (artistic overexposure)">Sun-drenched</option>
                <option value="Moonlight (silvery cold light)">Moonlight</option>
                <option value="Technicolor vibe (saturated 1960s look)">Ambiance Technicolor</option>
                <option value="Stained glass light (colored spots)">Lumi√®re de vitrail</option>
                <option value="Thick fog (mysterious diffused lights)">Brouillard √©pais</option>
                <option value="Disco Fever (rotating light spots)">Disco Fever</option>
                <option value="Winter dawn (pure cold white light)">Aube hivernale</option>
                <option value="Forest zenith light (sunbeams through foliage)">Lumi√®re de for√™t</option>
                <option value="Fireworks (multicolored light bursts)">Feu d'artifice</option>
                <option value="Eclipse (surreal copper-colored light)">√âclipse</option>
                <option value="Polaroid vibe (faded vintage tones)">Ambiance Polaroid</option>
                <option value="Spotlight (single focused white beam)">Projecteur de poursuite</option>
                <option value="Doomsday light (apocalyptic ochre)">Lumi√®re de fin du monde</option>
                <option value="Pastel Goth (soft but dark atmosphere)">Pastel Goth</option>
                <option value="Hygge atmosphere (warm, cozy, candlelit glow)">Hygge</option>
                <option value="Afrohemian aesthetic (warm earth tones, artistic patterns)">Afrohemian</option>
                <option value="Icy blue lighting (cold, crisp, frozen atmosphere)">Icy Blue</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customLighting" class="custom-input" placeholder="D√©crivez l'ambiance en anglais...">
        </div>

        <div class="section full">
            <label>Style Artistique</label>
            <select id="styleChoice" onchange="toggleCustom(this, 'customStyle')">
                <option value="Hyper-realistic photography (Kodak Portra 400 grain)">Photo R√©aliste</option>
                <option value="Noir Cinema 1950s (High contrast B&W)">Film Noir 1950</option>
                <option value="Renaissance Oil Painting">Peinture √† l'huile</option>
                <option value="Pop Art Silkscreen">Pop Art</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customStyle" class="custom-input" placeholder="D√©crivez votre style...">
        </div>

        <div class="section full">
            <div class="checkbox-group">
                <input type="checkbox" id="selfieOption" style="width: auto;">
                <span>üì∏ **MODE SELFIE (Sourire naturel & Bras visible)**</span>
            </div>
        </div>
    </div>

    <div style="display: flex; gap: 10px; margin-top: 10px;">
    <button type="button" onclick="surpriseMe()" style="flex: 1; padding: 10px; background: #9b59b6; border: none; border-radius: 8px; color: white; cursor: pointer; font-weight: bold;">üé≤ SURPRENDS-MOI</button>
</div>

<div class="output-box" id="output" style="display:none;">
    <button id="copyBtn" onclick="copyPrompt()" style="float: right; padding: 5px 10px; background: var(--gold); border: none; border-radius: 5px; cursor: pointer; font-size: 0.8em; font-weight: bold;">üìã COPIER LE PROMPT</button>
    <label>Prompt Positif :</label>
    <div id="posPrompt" style="color: #2ed573; font-family: monospace; font-size: 0.9em; margin-top: 10px;">...</div>
</div>
    
    <button id="generateBtn" onclick="buildPrompt()">üé¨ G√âN√âRER LE PROMPT</button>

    <div class="output-box" id="output" style="display:none;">
        <label>Prompt Positif :</label>
        <div id="posPrompt" style="color: #2ed573; font-family: monospace; font-size: 0.9em;">...</div>
        
        <div class="negative-prompt">
            <label style="color: #ff4757;">Prompt N√©gatif :</label>
            <div id="negPrompt">
                viewer showing teeth, viewer open mouth, phone visible, camera visible, (celebrity holding phone:1.5), celebrity's extended arm, phone screen, low quality, blurry, deformed hands, extra fingers, distorted face, bad anatomy, text, watermark.
            </div>
        </div>
    </div>
</div>

<script>
    function toggleCustom(select, inputId) {
        const input = document.getElementById(inputId);
        if (input) {
            input.style.display = (select.value === 'custom') ? 'block' : 'none';
        }
    }

   // --- NOUVELLE FONCTION DE COPIE ---
function copyPrompt() {
    const text = document.getElementById('posPrompt').innerText;
    navigator.clipboard.writeText(text).then(() => {
        const btn = document.getElementById('copyBtn');
        btn.innerText = "‚úÖ COPI√â !";
        setTimeout(() => btn.innerText = "üìã COPIER LE PROMPT", 2000);
    });
}

// --- FONCTION SURPRENDS-MOI ---
function surpriseMe() {
    const lightOptions = document.querySelectorAll('#lighting option:not([value="custom"])');
    const placeOptions = document.querySelectorAll('#contextPlace option:not([value="custom"])');
    
    document.getElementById('lighting').value = lightOptions[Math.floor(Math.random() * lightOptions.length)].value;
    document.getElementById('contextPlace').value = placeOptions[Math.floor(Math.random() * placeOptions.length)].value;
    
    buildPrompt();
}

// --- LOGIQUE G√âN√âRALE MISE √Ä JOUR ---
function buildPrompt() {
    let name = document.getElementById('iconName').value || "Famous Star";
    const isSelfie = document.getElementById('selfieOption').checked;
    
    // D√©tection Duo (si "et" ou "and" est pr√©sent)
    const isDuo = name.toLowerCase().includes(" et ") || name.toLowerCase().includes(" and ");
    const verb = isDuo ? "are" : "is"; // Correction grammaticale auto

    const place = document.getElementById('contextPlace').value === 'custom' ? 
                  document.getElementById('customPlace').value : document.getElementById('contextPlace').value;

    const lighting = document.getElementById('lighting').value === 'custom' ? 
                     document.getElementById('customLighting').value : document.getElementById('lighting').value;

    const style = document.getElementById('styleChoice').value;
    const framing = document.getElementById('framing').value;

    let technical = `high-shutter speed, sharp focus, 8k, detailed skin, ${framing}.`;
    
    // Ajout de la signature (Autographe)
    const signature = `with a handwritten signature "${name}" in the bottom right corner.`;

    let scenario = "";
    if (isSelfie) {
        scenario = `A sharp POV selfie. The viewer's arm is partially visible. The viewer has a subtle closed-mouth smile. **${name}** ${verb} standing next to the viewer, leaning into the frame. Background: ${place}. Atmosphere: ${lighting}. ${signature}`;
    } else {
        scenario = `An iconic masterwork of **${name}** ${place}. Atmosphere: ${lighting}. ${signature}`;
    }

    const finalPos = `[SUBJECT: ${name}] [STYLE: ${style}] [SCENARIO: ${scenario}] [TECHNICAL: ${technical}] --v 6.0`;
    document.getElementById('posPrompt').innerText = finalPos;
    document.getElementById('output').style.display = 'block';
}
</script>

</body>
</html>

