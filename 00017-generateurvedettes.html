<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Icon Experience Generator - Nano Banana Edition</title>
    <style>
        :root { --gold: #ffa502; --action: #2ed573; --bg: #1e2124; --panel: #2f3542; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; padding: 20px; line-height: 1.4; }
        .app-container { max-width: 900px; margin: auto; background: var(--panel); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .section { margin-bottom: 15px; }
        .full { grid-column: span 2; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: var(--gold); font-size: 0.9em; }
        select, input { width: 100%; padding: 10px; border-radius: 6px; border: none; background: #57606f; color: white; box-sizing: border-box; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; background: #1e2124; padding: 12px; border-radius: 8px; border: 1px solid var(--gold); margin-top: 10px; }
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        button { cursor: pointer; border: none; border-radius: 10px; font-weight: bold; color: white; transition: 0.2s; }
        #generateBtn { flex: 2; padding: 15px; background: var(--action); font-size: 1.1em; }
        #surpriseBtn { flex: 1; padding: 15px; background: #9b59b6; font-size: 1.1em; }
        .output-box { margin-top: 25px; padding: 15px; background: #1a1a1a; border-radius: 8px; border: 1px solid #444; }
        .copy-controls { display: flex; gap: 10px; margin-bottom: 10px; }
        .btn-copy { padding: 8px 12px; font-size: 0.8em; background: var(--gold); }
        .btn-copy-neg { padding: 8px 12px; font-size: 0.8em; background: #ff4757; }
        .negative-prompt-area { color: #ff4757; font-size: 0.85em; margin-top: 15px; border-top: 1px solid #333; padding-top: 10px; }
        .custom-input { display: none; margin-top: 5px; background: #4b5563; }
    </style>
</head>
<body>

<div class="app-container">
    <h1 style="text-align: center; margin-top:0;">ðŸŽ¥ Icon Experience : Nano Edition</h1>

    <div class="grid">
        <div class="section full">
            <label>L'IcÃ´ne ou le Duo (ex: Prince and Michael Jackson)</label>
            <input type="text" id="iconName" placeholder="Entrez les noms...">
        </div>

        <div class="section">
            <label>Lieu (Background)</label>
            <select id="contextPlace" onchange="toggleCustom(this, 'customPlace')">
                <option value="in a legendary music studio">Studio d'enregistrement</option>
                <option value="on a sun-drenched beach">Plage ensoleillÃ©e</option>
                <option value="in a crowded stadium">Stade bondÃ©</option>
                <option value="on a luxury rooftop at sunset">Rooftop luxueux</option>
                <option value="backstage at a concert">Coulisses</option>
                <option value="in a vintage American diner">Diner rÃ©tro</option>
                <option value="custom">-- PersonnalisÃ© --</option>
            </select>
            <input type="text" id="customPlace" class="custom-input">
        </div>

        <div class="section">
            <label>AtmosphÃ¨re</label>
            <select id="lighting" onchange="toggleCustom(this, 'customLighting')">
                <option value="Morning glow">Glow matinal</option>
                <option value="Golden Hour">Golden Hour</option>
                <option value="Night neon">NÃ©on nocturne</option>
                <option value="Direct flash (paparazzi style)">Flash direct</option>
                <option value="Hygge atmosphere">Hygge</option>
                <option value="Disco Fever">Disco Fever</option>
                <option value="custom">-- PersonnalisÃ© --</option>
            </select>
            <input type="text" id="customLighting" class="custom-input">
        </div>

        <div class="section">
    <label>Style & Ã‰poque (Grain & Texture)</label>
    <select id="styleChoice">
        <option value="Modern 2020s digital photography, ultra-sharp 8k">Digital 2020s (Ultra-net)</option>
        <option value="Early 2010s digital camera, clean look">NumÃ©rique 2010s</option>
        <option value="2000s glossy celebrity magazine style">Magazine 2000s (Brillant)</option>
        <option value="1990s Kodak Portra 400 grain, soft colors">Argentique 90s (Portra 400)</option>
        <option value="1980s retro film, vibrant colors, slightly grainy">AnnÃ©es 80 (Couleurs vives & grain)</option>
        <option value="1970s Kodachrome vintage slide film texture">Vintage 70s (Kodachrome)</option>
        <option value="1960s film grain, warm nostalgic tones">Nostalgie 60s</option>
        <option value="1950s Technicolor cinematic style">CinÃ©ma 50s (Technicolor)</option>
        <option value="Classic Black and White Film Noir style">Noir & Blanc Classique</option>
    </select>
</div>


        <div class="section">
            <div class="checkbox-group">
                <input type="checkbox" id="selfieOption" checked>
                <span>ðŸ“¸ MODE SELFIE</span>
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="duoOption">
                <span>ðŸ‘¥ MODE DUO (16:9)</span>
            </div>
        </div>
    </div>

    <div class="btn-group">
        <button id="surpriseBtn" onclick="surpriseMe()">ðŸŽ² SURPRENDS-MOI</button>
        <button id="generateBtn" onclick="buildPrompt()">ðŸŽ¬ GÃ‰NÃ‰RER</button>
    </div>

    <div id="output" class="output-box" style="display:none;">
        <div class="copy-controls">
            <button id="copyBtn" class="btn-copy" onclick="copyText('posPrompt', 'copyBtn')">ðŸ“‹ COPIER POSITIF</button>
            <button id="copyNegBtn" class="btn-copy-neg" onclick="copyText('negPrompt', 'copyNegBtn')">ðŸ“‹ COPIER NÃ‰GATIF</button>
        </div>
        
        <label>Prompt Positif :</label>
        <div id="posPrompt" style="color: #2ed573; font-family: monospace; font-size: 0.9em;"></div>
        
        <div class="negative-prompt-area">
            <label>Prompt NÃ©gatif :</label>
            <div id="negPrompt">viewer showing teeth, viewer open mouth, phone visible, camera visible, (celebrity holding phone:1.5), celebrity's extended arm, phone screen, low quality, blurry, deformed hands, extra fingers, distorted face, bad anatomy, text, watermark.</div>
        </div>
    </div>
</div>

<script>
    function toggleCustom(select, inputId) {
        const input = document.getElementById(inputId);
        input.style.display = (select.value === 'custom') ? 'block' : 'none';
    }

    function copyText(elementId, btnId) {
        const text = document.getElementById(elementId).innerText;
        const btn = document.getElementById(btnId);
        const originalText = btn.innerText;
        navigator.clipboard.writeText(text).then(() => {
            btn.innerText = "âœ… COPIÃ‰ !";
            setTimeout(() => btn.innerText = originalText, 2000);
        });
    }

    function surpriseMe() {
        ['contextPlace', 'lighting', 'styleChoice'].forEach(id => {
            const options = document.querySelectorAll(`#${id} option:not([value="custom"])`);
            document.getElementById(id).value = options[Math.floor(Math.random() * options.length)].value;
        });
        buildPrompt();
    }

    function buildPrompt() {
    const name = document.getElementById('iconName').value || "Celebrity";
    const isSelfie = document.getElementById('selfieOption').checked;
    const isDuo = document.getElementById('duoOption').checked;
    
    const place = document.getElementById('contextPlace').value === 'custom' ? document.getElementById('customPlace').value : document.getElementById('contextPlace').value;
    const lighting = document.getElementById('lighting').value === 'custom' ? document.getElementById('customLighting').value : document.getElementById('lighting').value;
    const style = document.getElementById('styleChoice').value;
    
    const verb = isDuo ? "are" : "is";
    const aspect = isDuo ? "--ar 16:9" : "--ar 1:1";
    
    // Instruction pour l'autographe
    const autograph = `The photo includes a subtle handwritten autograph "${name}" in a corner.`;
    
    let scenario = "";
    if (isSelfie) {
        scenario = `A sharp POV selfie. Viewer's arm visible. Viewer has a subtle closed-mouth smile. **${name}** ${verb} standing next to the viewer, leaning into the frame. Background: ${place}. Atmosphere: ${lighting}. ${autograph}`;
    } else {
        scenario = `An iconic professional photograph of **${name}** ${place}. Atmosphere: ${lighting}. ${autograph}`;
    }

    const finalPos = `[SUBJECT: ${name}] [STYLE: ${style}] [SCENARIO: ${scenario}] --v 6.0 ${aspect}`;
    document.getElementById('posPrompt').innerText = finalPos;
    document.getElementById('output').style.display = 'block';
}
</script>
</body>
</html>
