<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Icon Experience Generator - Pro Director Edition</title>
    <style>
        :root { --gold: #ffa502; --action: #2ed573; --bg: #1e2124; --panel: #2f3542; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; padding: 20px; line-height: 1.4; }
        .app-container { max-width: 900px; margin: auto; background: var(--panel); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .section { margin-bottom: 15px; }
        .full { grid-column: span 2; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: var(--gold); font-size: 0.9em; }
        select, input, textarea { width: 100%; padding: 10px; border-radius: 6px; border: none; background: #57606f; color: white; box-sizing: border-box; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; background: #1e2124; padding: 12px; border-radius: 8px; border: 1px solid var(--gold); margin-top: 10px; }
        #generateBtn { width: 100%; padding: 15px; background: var(--action); border: none; border-radius: 10px; color: white; font-size: 1.2em; font-weight: bold; cursor: pointer; margin-top: 20px; }
        .output-box { margin-top: 25px; padding: 15px; background: #1a1a1a; border-radius: 8px; border: 1px solid #444; }
        .negative-prompt { color: #ff4757; font-size: 0.85em; margin-top: 10px; border-top: 1px solid #333; padding-top: 10px; }
        .custom-input { display: none; margin-top: 5px; background: #4b5563; }
    </style>
</head>
<body>

<div class="app-container">
    <h1 style="text-align: center; margin-top:0;">üé• Icon Experience : Pro Director</h1>

    <div class="grid">
        <div class="section">
            <label>L'Ic√¥ne (Acteur, Sportif, Chanteur...)</label>
            <input type="text" id="iconName" placeholder="Steve McQueen, Platini, Prince...">
        </div>
        <div class="section">
            <label>Contexte / Lieu (Film, Stade, Sc√®ne)</label>
            <input type="text" id="contextPlace" placeholder="Le Mans, Stade de France, etc.">
        </div>

        <div class="section">
            <label>Cadrage & Composition</label>
            <select id="framing" onchange="toggleCustom(this, 'customFraming')">
                <option value="Close-up (Portrait rapproch√©)">Close-up (Portrait)</option>
                <option value="Rule of thirds (R√®gle des deux tiers)">R√®gle des deux tiers</option>
                <option value="Low angle shot (Contre-plong√©e h√©ro√Øque)">Contre-plong√©e (H√©ro√Øque)</option>
                <option value="Wide shot (Plan large immersif)">Plan large (Immersif)</option>
                <option value="POV (Point of view)">Point de vue (POV)</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customFraming" class="custom-input" placeholder="D√©crivez votre cadrage...">
        </div>

        <div class="section">
            <label>Lumi√®re & √âclairage</label>
            <select id="lighting" onchange="toggleCustom(this, 'customLighting')">
                <option value="Cinematic rim lighting (Contre-jour)">Cin√©matique (Contre-jour)</option>
                <option value="Golden hour (Lumi√®re chaude)">Golden Hour</option>
                <option value="Dramatic chiaroscuro (Contrast√©)">Chiaroscuro (Contrast√©)</option>
                <option value="Soft studio light (Douce)">Soft Studio</option>
                <option value="Neon night glow (N√©on)">N√©on Nocturne</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customLighting" class="custom-input" placeholder="D√©crivez l'√©clairage...">
        </div>

        <div class="section full">
            <label>Style Artistique</label>
            <select id="styleChoice" onchange="toggleCustom(this, 'customStyle')">
                <option value="Hyper-realistic photography (Kodak Portra 400 grain)">Photo R√©aliste (Kodak Portra)</option>
                <option value="Noir Cinema 1950s (High contrast B&W)">Film Noir 1950</option>
                <option value="Renaissance Oil Painting">Peinture √† l'huile Renaissance</option>
                <option value="Pop Art Silkscreen (Warhol style)">Pop Art Warhol</option>
                <option value="custom">-- Personnalis√© --</option>
            </select>
            <input type="text" id="customStyle" class="custom-input" placeholder="D√©crivez votre style...">
        </div>

        <div class="section full">
            <div class="checkbox-group">
                <input type="checkbox" id="selfieOption" style="width: auto;">
                <span>üì∏ **MODE SELFIE NET ACTIV√â**</span>
            </div>
        </div>
    </div>

    <button id="generateBtn" onclick="buildPrompt()">üé¨ G√âN√âRER LE PROMPT R√âALISTE</button>

    <div class="output-box" id="output">
        <label>Prompt Positif (√Ä copier) :</label>
        <div id="posPrompt" style="color: #2ed573; font-family: monospace; font-size: 0.9em;">...</div>
        
        <div class="negative-prompt">
            <label style="color: #ff4757;">Prompt N√©gatif (√Ä copier) :</label>
            <div id="negPrompt">
                (celebrity holding phone:1.5), phone back camera visible, phone facing away, low quality, blurry, deformed hands, extra fingers, distorted face, bad anatomy, text, watermark.
            </div>
        </div>
    </div>
</div>

<script>
    function toggleCustom(select, inputId) {
        const input = document.getElementById(inputId);
        input.style.display = (select.value === 'custom') ? 'block' : 'none';
    }

    function buildPrompt() {
        const name = document.getElementById('iconName').value || "[Nom de l'Ic√¥ne]";
        const place = document.getElementById('contextPlace').value || "[Lieu mythique]";
        const isSelfie = document.getElementById('selfieOption').checked;
        
        const style = document.getElementById('styleChoice').value === 'custom' ? document.getElementById('customStyle').value : document.getElementById('styleChoice').value;
        const framing = document.getElementById('framing').value === 'custom' ? document.getElementById('customFraming').value : document.getElementById('framing').value;
        const lighting = document.getElementById('lighting').value === 'custom' ? document.getElementById('customLighting').value : document.getElementById('lighting').value;

        // Ajout automatique du flash de remplissage pour la nettet√© en mode selfie
        let flashEffect = isSelfie ? "subtle fill-in flash for face clarity, " : "";
        let technical = `${framing}, ${lighting}, ${flashEffect}high-shutter speed, sharp focus, extremely detailed textures.`;
        
        let scenario = "";
        if (isSelfie) {
            scenario = `A crystal-clear POV selfie taken by the viewer's own arm visible in frame. The smartphone is correctly oriented with the front camera facing the subjects. **${name}** is standing next to the viewer, perfectly in focus. Background: ${place}. Atmosphere is ${lighting}.`;
        } else {
            scenario = `An iconic masterwork of **${name}** in the middle of ${place}. Atmosphere is immersive and cinematic.`;
        }

        const finalPos = `[SUBJECT: ${name}] [STYLE: ${style}] [SCENARIO: ${scenario}] [TECHNICAL: ${technical}] --v 6.0`;
        document.getElementById('posPrompt').innerText = finalPos;
        document.getElementById('output').style.display = 'block';
    }
</script>

</body>
</html>
